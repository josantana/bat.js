/*!
 * Bat.js - Utility belt for JS ninjas
 * @author Jo Santana
 * @version v0.0.1
 * @link http://batjs.github.io
 * @license Released under the MIT license
 */

(function(){"use strict";var e=this,t=e.Bat||{};t.log=function(){for(var e,n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],o=n.length,r=function(){},i=window.console=window.console||{};o--;)e=n[o],i[e]||(i[e]=r);var a=function(){return"enabled"===t.keep.get("Bat.log")?!0:!1};return{enable:function(){t.keep.set("Bat.log","enabled",1)},disable:function(){t.keep.delete("Bat.log")},info:function(e){a&&i.info(e)},trace:function(e){a&&i.trace(e)},warn:function(e){a&&i.warn(e)},error:function(e){a&&i.error(e)},group:function(e){a&&e&&i.group(e)},ungroup:function(){a&&i.groupEnd()}}}(),e.Bat=t}).call(this),function(){"use strict";var e=this,t=e.Bat||{};t.keep=function(){return{storageType:function(){return"localStorage"in window&&null!==window.localStorage?"localStorage":"cookie"},timestamper:function(e,t){e="undefined"!=typeof e?e:0,t="undefined"!=typeof t?t:!1;var n=new Date,o=864e5;return n.setTime(n.getTime()+e*o),t&&n.toUTCString(),n},remaining:{days:0,hours:0},set:function(e,n,o){return n?void this[this.storageType()].set(e,n,o):(t.log.info("BAT keep: Can't store empty data"),!1)},get:function(e){var n=this[this.storageType()].get(e);if(n){var o=['BAT keep: "'+e+'" will expire in ',this.remaining.days>0?[this.remaining.days," day"].join(""):"",this.remaining.days>1?"s":"",this.remaining.days>0&&this.remaining.hours>0?" and ":"",this.remaining.hours>0?[this.remaining.hours," hour"].join(""):"few minutes",this.remaining.hours>1?"s":""," from "+this.storageType()].join("");return t.log.info(o),n}return null},"delete":function(e){this[this.storageType()].delete(e)},cookie:{set:function(e,n,o){var r;r=o?"; expires="+t.keep.timestamper(o,!0):"",document.cookie=e+"-expires="+t.keep.timestamper(o,!0)+"; path=/",document.cookie=e+"="+n+r+"; path=/",t.log.info("BAT keep: "+e+" [CREATED with cookies]")},get:function(e){var n,o=e+"-expires=",r=e+"=",i=document.cookie.split(";");for(n=0;n<i.length;n++){for(var a=i[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(o)){var l=new Date(a.substring(o.length,a.length)-t.keep.timestamper());t.keep.remaining.days=l.getUTCDate()-1,t.keep.remaining.hours=l.getUTCHours()}if(0===a.indexOf(r))return a.substring(r.length,a.length)}return null},"delete":function(e){this.set(e+"-expires","",-1),this.set(e,"",-1),t.log.info("BAT keep: "+e+" [DELETED from cookies]")}},localStorage:{set:function(e,n,o){window.localStorage.setItem(e,JSON.stringify({value:n,timestamp:t.keep.timestamper(o)})),t.log.info("BAT keep: "+e+" [CREATED with localStorage]")},get:function(e){var n=window.localStorage.getItem(e);if(n){n=JSON.parse(n);var o=new Date(t.keep.timestamper()),r=new Date(n.timestamp);if(r>o){var i=new Date(Math.abs(o.getTime()-r.getTime()));return t.keep.remaining.days=i.getUTCDate()-1,t.keep.remaining.hours=i.getUTCHours(),n.value}return this.delete(e),null}return null},"delete":function(e){window.localStorage.removeItem(e),t.log.info("BAT keep: "+e+" [DELETED from localStorage]")}}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.cookie=function(){return{set:function(e,n,o){var r;if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3),r="; expires="+i.toUTCString()}else r="";document.cookie=e+"="+n+r+"; path=/",-1!==o&&t.log.info("Cookie: "+e+" [CREATED]")},get:function(e){var t,n=e+"=",o=document.cookie.split(";");for(t=0;t<o.length;t++){for(var r=o[t];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(n))return r.substring(n.length,r.length)}return null},"delete":function(e){this.set(e,"",-1),t.log.info("Cookie: "+e+" [DELETED]")}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.ajax=function(){var e=function(){var e=new XMLHttpRequest;return e},t=function(e){var t="";for(var n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return t=t.slice(0,-1)},n=function(e,n,o){e.url=e.url||location.href,e.data=e.data?t(e.data):null,e.beforeSend=e.beforeSend||function(){},o=o||function(){}},o=function(e,t){var n=e.callback||"JSONP_"+(new Date).getTime();e.url+=(-1===e.url.indexOf("?")?"?":"&")+"callback="+n,window[n]=t;var o=document.createElement("script");o.src=e.url,document.body.appendChild(o)},r=function(t,n,o){var r=e(),i=n.data?n.url+"?"+n.data:n.url;r.open(t,i,!0),n.beforeSend(r),"POST"===t&&r.setRequestHeader("content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===r.readyState&&o(0===r.status.toString().indexOf(20)?r.responseText:'{"status": "ERROR","code": "'+r.status.toString()+'","message": "'+r.statusText.toString()+'" }')},r.send(n.data)};return{getJSON:function(e,t){n(e,t),r("GET",e,t)},getJSONP:function(e,t){n(e,t),o(e,t),r("GET",e,t)},getHTML:function(e,t){n(e,t),r("GET",e,t)},post:function(e,t){n(e,t),r("POST",e,t)}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.md5=function(){var e="0123456789abcdef",t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15},n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],o=[3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745],r=function(t){for(var n="",o=0;4>o;o++){var r=o<<3;n+=e.charAt(t>>r+4&15)+e.charAt(t>>r&15)}return n},i=function(e){for(var t=e.length;t--;)if(e.charCodeAt(t)>127)return!0;return!1},a=function(e){var t,n=e.length,o=(n+8>>6)+1,r=o<<4,i=[];for(t=0;r>t;++t)i[t]=0;for(t=0;n>t;++t)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);return i[t>>2]|=128<<(t%4<<3),i[r-2]=n<<3,i},l=function(e){for(var n=encodeURIComponent(e),o=[],r=0,i=0,a=n.length;a>r;++r){var l=n.charCodeAt(r);o[i>>2]|=37==l?(t[n.charAt(++r)]<<4|t[n.charAt(++r)])<<(i%4<<3):l<<(i%4<<3),++i}var c=(i+8>>6)+1,u=c<<4,s=i>>2;for(o[s]|=128<<(i%4<<3),r=s+1;u>r;++r)o[r]=0;return o[u-2]=i<<3,o};return function(e){for(var t=i(e)?new l(e):new a(e),c=1732584193,u=4023233417,s=2562383102,d=271733878,f=0,g=t.length;g>f;f+=16){for(var p,h,m,w,v,E=c,T=u,b=s,k=d,x=0;64>x;++x)16>x?(p=k^T&(b^k),h=x):32>x?(p=b^k&(T^b),h=(5*x+1)%16):48>x?(p=T^b^k,h=(3*x+5)%16):(p=b^(T|~k),h=7*x%16),m=k,k=b,b=T,w=E+p+o[x]+t[f+h],v=n[x],T+=w<<v|w>>>32-v,E=m;c=c+E|0,u=u+T|0,s=s+b|0,d=d+k|0}return r(c)+r(u)+r(s)+r(d)}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.Timer=function(){var e,t;return{start:function(n){e=this,e.enabled=!0,e.enabled&&(e.timerID=setInterval(t,1e3*n))},tick:function(e){t=e},stop:function(){e.enabled=!1,clearInterval(e.timerID)}}},e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.scroll=function(){var e=30,n=null,o=window,r=null,i=function(){clearTimeout(n),e=30},a=function(e){var t=e,n=0;do n+=t.offsetTop,t=t.offsetParent;while(t);return n},l=function(){var e;return e=o!==window?o.scrollTop:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop},c=function(){var e;return e=o!==window?o.scrollTop+o.clientHeight:(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)+window.innerHeight},u=function(){var e,t=document.body,n=document.documentElement;return e=o!==window?o.scrollHeight:Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)},s=function(t){i();var r,c,d,f,g,p,h,m;return d=l(),f=u(),r=t?document.getElementById(t).offsetTop:0,o!==window?f-r<o.clientHeight&&(r=f-o.clientHeight):f-r<window.innerHeight&&(r=f-window.innerHeight),c=t?a(document.getElementById(t).parentNode):0,(null===d||isNaN(d)||"undefined"===d)&&(d=0),g=r-d,g>c&&(p=r-c-d,h=1),c>g&&(p=d+c-r,h=-1),g!==c&&(m=~~(p/4+1)*h,e>1?e-=1:e=0,o!==window?h?o.scrollTop+=m:o.scrollTop-=m:window.scrollBy(0,m),n=window.setTimeout(function(){s(t)},e)),g===c?void i():void 0},d=function(e,t){function n(){[].forEach.call(e,function(e){e.classList.remove(t)})}function r(){for(i=0;i<d.length;i++)if(l()>=d[i]&&l()<d[i+1]&&c!==s[i]){c=s[i],n(),e[i].classList.add(t);var o=new CustomEvent("scrollPosition",{detail:{id:s[i],number:i}});window.dispatchEvent(o)}}var i,c,s=[],d=[];for(t=t?t:"on",i=0;i<e.length;i++)s.push(e[i].dataset.scroll);for(c=s[0],i=0;i<e.length;i++)if(null===document.getElementById(e[i].dataset.scroll))d.push(0);else{var f=o!==window?a(o):0;d.push(a(document.getElementById(e[i].dataset.scroll))-f)}d.push(u()),o.addEventListener("scroll",r),document.body.hasAttributes("unresolved")?document.addEventListener("polymer-ready",r):window.addEventListener("load",r)},f=function(){if(t.scroll.belowEnabled&&c()>=r.clientHeight+(a(r)-a(o))){var e=document.createEvent("CustomEvent");e.initCustomEvent("scrollPassing",!0,!0,{detail:{element:r}}),window.dispatchEvent(e),t.scroll.belowEnabled=!1}},g=function(){"stop"!==r?(window.addEventListener("load",f,!1),o.addEventListener("scroll",f,!1)):o.removeEventListener("scroll",f,!1)};return{window:function(e){o=e},to:function(e){return s(e)},top:function(){return s(null)},update:function(e,t){return d(e,t)},belowEnabled:!0,below:function(e){return r=e,g()}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.url=function(){var e=window.location;return{address:function(){return e.href},path:function(){return e.pathname},subdomain:function(){var t=e.hostname.split(".");return t=t.length>2?t[0]:null},domain:function(){var t=e.hostname.split(".");switch(t.length){case 1:t=e.hostname;break;case 2:t=t[0];break;case 3:t=t[1];break;default:t=t[1]}return t},tld:function(){var t=e.hostname;return t.match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))?t.match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))[0].replace(new RegExp(/^\./i),""):t.match(new RegExp(/\.[a-z]{2,4}$/i))?t.match(new RegExp(/\.[a-z]{2,4}$/i))[0].replace(new RegExp(/^\./i),""):null},param:function(t,n,o){var r,i=n?n.substring(n.indexOf("?")):e.search,a=i.substring(1).split("&"),o=o?o:!1;for(o&&a.reverse(),r=0;r<a.length;r++){var l=a[r].split("=");if(t===l[0])return l[1]}return null},slugfy:function(e,t){var n=e.toLowerCase();return t=t?t:!1,n=n.replace(new RegExp(/\s/g),"-"),n=n.replace(new RegExp(/[àáâãäå]/g),"a"),n=n.replace(new RegExp(/æ/g),"ae"),n=n.replace(new RegExp(/ç/g),"c"),n=n.replace(new RegExp(/[èéêë]/g),"e"),n=n.replace(new RegExp(/[ìíîï]/g),"i"),n=n.replace(new RegExp(/ñ/g),"n"),n=n.replace(new RegExp(/[òóôõö]/g),"o"),n=n.replace(new RegExp(/œ/g),"oe"),n=n.replace(new RegExp(/[ùúûü]/g),"u"),n=n.replace(new RegExp(/[ýÿ]/g),"y"),t&&(n=n.replace(new RegExp(/\W/g),"")),n},encode:function(e,t){var n;return t=t?t:!0,n=t?encodeURIComponent(e):encodeURI(e)},decode:function(e,t){var n;return t=t?t:!0,n=t?decodeURIComponent(e):decodeURI(e)}}}(),e.Bat=t}.call(this);