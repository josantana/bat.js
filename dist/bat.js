/*!
 * Bat.js - Utility belt for JS ninjas
 * @author Jo Santana
 * @version v0.0.1
 * @link http://batjs.github.io
 * @license Released under the MIT license
 */

(function(){"use strict";var e=this,t=e.Bat||{};t.keep=function(){return{storageType:function(){return"localStorage"in window&&null!==window.localStorage?"localStorage":"cookie"},timestamper:function(e,t){e="undefined"!=typeof e?e:0,t="undefined"!=typeof t?t:!1;var n=new Date,r=864e5;return n.setTime(n.getTime()+e*r),t&&n.toUTCString(),n},remaining:{days:0,hours:0},set:function(e,t,n){return t?(this[this.storageType()].set(e,t,n),void console.log("BAT keep: "+e+" [CREATED with "+this.storageType()+"]")):(console.log("BAT keep: Can't store empty data"),!1)},get:function(e){var t=this[this.storageType()].get(e);if(t){var n='BAT keep: "'+e+'" will expire in ';return n+=this.remaining.days>0?[this.remaining.days," day"].join(""):"",n+=this.remaining.days>1?"s":"",n+=this.remaining.days>0&&this.remaining.hours>0?" and ":"",n+=this.remaining.hours>0?[this.remaining.hours," hours"].join(""):"few minutes",n+=" from "+this.storageType(),console.log(n),t}return null},"delete":function(e){this[this.storageType()]["delete"](e),console.log("BAT keep: "+e+" [DELETED from "+this.storageType()+"]")},cookie:{set:function(e,n,r){var o;o=r?"; expires="+t.keep.timestamper(r,!0):"",document.cookie=e+"-expires="+t.keep.timestamper(r)+o+"; path=/",document.cookie=e+"="+n+o+"; path=/"},get:function(e){var n,r=e+"-expires=",o=e+"=",i=document.cookie.split(";");for(n=0;n<i.length;n++){for(var a=i[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(r)){var c=new Date(a.substring(r.length,a.length)-t.keep.timestamper());t.keep.remaining.days=c.getUTCDate()-1,t.keep.remaining.hours=c.getUTCHours()}if(0===a.indexOf(o))return a.substring(o.length,a.length)}return null},"delete":function(e){this.set(e+"-expires","",-1),this.set(e,"",-1)}},localStorage:{set:function(e,n,r){window.localStorage.setItem(e,JSON.stringify({value:n,timestamp:t.keep.timestamper(r)}))},get:function(e){var n=window.localStorage.getItem(e);if(n){if(n=JSON.parse(n),t.keep.timestamper()<n.timestamp){var r=new Date(n.timestamp-t.keep.timestamper());return t.keep.remaining.days=r.getUTCDate()-1,t.keep.remaining.hours=r.getUTCHours(),n.value}return this["delete"](e),null}return null},"delete":function(e){window.localStorage.removeItem(e)}}}}(),e.Bat=t}).call(this),function(){"use strict";var e=this,t=e.Bat||{};t.cookie=function(){return{set:function(e,n,r){var o;if(r){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),o="; expires="+i.toUTCString()}else o="";document.cookie=e+"="+n+o+"; path=/",-1!==r&&t.log.info("Cookie: "+e+" [CREATED]")},get:function(e){var t,n=e+"=",r=document.cookie.split(";");for(t=0;t<r.length;t++){for(var o=r[t];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null},"delete":function(e){this.set(e,"",-1),t.log.info("Cookie: "+e+" [DELETED]")}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.log=function(){for(var e,n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length,o=function(){},i=window.console=window.console||{};r--;)e=n[r],i[e]||(i[e]=o);var a=function(){return"enabled"===t.cookie.get("Bat.log")?!0:!1};return{enable:function(){t.cookie.set("Bat.log","enabled",1)},disable:function(){t.cookie["delete"]("Bat.log")},info:function(e){a&&i.info(e)},trace:function(e){a&&i.trace(e)},warn:function(e){a&&i.warn(e)},error:function(e){a&&i.error(e)},group:function(e){a&&e&&i.group(e)},ungroup:function(){a&&i.groupEnd()}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.ajax=function(){var e=function(){var e=new XMLHttpRequest;return e},t=function(e){var t="";for(var n in e)t+=n+"="+encodeURIComponent(e[n])+"&";return t=t.slice(0,-1)},n=function(e,n,r){e.url=e.url||location.href,e.data=e.data?t(e.data):null,e.beforeSend=e.beforeSend||function(){},r=r||function(){}},r=function(e,t){var n=e.callback||"JSONP_"+(new Date).getTime();e.url+=(-1===e.url.indexOf("?")?"?":"&")+"callback="+n,window[n]=t;var r=document.createElement("script");r.src=e.url,document.body.appendChild(r)},o=function(t,n,r){var o=e(),i=n.data?n.url+"?"+n.data:n.url;o.open(t,i,!0),n.beforeSend(o),"POST"===t&&o.setRequestHeader("content-type","application/x-www-form-urlencoded"),o.onreadystatechange=function(){4===o.readyState&&r(0===o.status.toString().indexOf(20)?o.responseText:'{"status": "ERROR","code": "'+o.status.toString()+'","message": "'+o.statusText.toString()+'" }')},o.send(n.data)};return{getJSON:function(e,t){n(e,t),o("GET",e,t)},getJSONP:function(e,t){n(e,t),r(e,t),o("GET",e,t)},getHTML:function(e,t){n(e,t),o("GET",e,t)},post:function(e,t){n(e,t),o("POST",e,t)}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.md5=function(){var e="0123456789abcdef",t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15},n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],r=[3614090360,3905402710,606105819,3250441966,4118548399,1200080426,2821735955,4249261313,1770035416,2336552879,4294925233,2304563134,1804603682,4254626195,2792965006,1236535329,4129170786,3225465664,643717713,3921069994,3593408605,38016083,3634488961,3889429448,568446438,3275163606,4107603335,1163531501,2850285829,4243563512,1735328473,2368359562,4294588738,2272392833,1839030562,4259657740,2763975236,1272893353,4139469664,3200236656,681279174,3936430074,3572445317,76029189,3654602809,3873151461,530742520,3299628645,4096336452,1126891415,2878612391,4237533241,1700485571,2399980690,4293915773,2240044497,1873313359,4264355552,2734768916,1309151649,4149444226,3174756917,718787259,3951481745],o=function(t){for(var n="",r=0;4>r;r++){var o=r<<3;n+=e.charAt(t>>o+4&15)+e.charAt(t>>o&15)}return n},i=function(e){for(var t=e.length;t--;)if(e.charCodeAt(t)>127)return!0;return!1},a=function(e){var t,n=e.length,r=(n+8>>6)+1,o=r<<4,i=[];for(t=0;o>t;++t)i[t]=0;for(t=0;n>t;++t)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);return i[t>>2]|=128<<(t%4<<3),i[o-2]=n<<3,i},c=function(e){for(var n=encodeURIComponent(e),r=[],o=0,i=0,a=n.length;a>o;++o){var c=n.charCodeAt(o);r[i>>2]|=37==c?(t[n.charAt(++o)]<<4|t[n.charAt(++o)])<<(i%4<<3):c<<(i%4<<3),++i}var u=(i+8>>6)+1,s=u<<4,l=i>>2;for(r[l]|=128<<(i%4<<3),o=l+1;s>o;++o)r[o]=0;return r[s-2]=i<<3,r};return function(e){for(var t=i(e)?new c(e):new a(e),u=1732584193,s=4023233417,l=2562383102,d=271733878,f=0,g=t.length;g>f;f+=16){for(var p,m,h,w,v,E=u,T=s,y=l,b=d,x=0;64>x;++x)16>x?(p=b^T&(y^b),m=x):32>x?(p=y^b&(T^y),m=(5*x+1)%16):48>x?(p=T^y^b,m=(3*x+5)%16):(p=y^(T|~b),m=7*x%16),h=b,b=y,y=T,w=E+p+r[x]+t[f+m],v=n[x],T+=w<<v|w>>>32-v,E=h;u=u+E|0,s=s+T|0,l=l+y|0,d=d+b|0}return o(u)+o(s)+o(l)+o(d)}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.Timer=function(){var e,t;return{start:function(n){e=this,e.enabled=!0,e.enabled&&(e.timerID=setInterval(t,1e3*n))},tick:function(e){t=e},stop:function(){e.enabled=!1,clearInterval(e.timerID)}}},e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.scroll=function(){var e=30,t=null,n=window,r=function(){clearTimeout(t),e=30},o=function(e){var t=e,n=0;do n+=t.offsetTop,t=t.offsetParent;while(t);return n},i=function(){var e;return e=n!==window?n.scrollTop:window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop},a=function(){var e;return e=n!==window?n.scrollTop+n.clientHeight:(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)+window.innerHeight},c=function(){var e,t=document.body,r=document.documentElement;return e=n!==window?n.scrollHeight:Math.max(t.scrollHeight,t.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight)},u=function(a){r();var s,l,d,f,g,p,m,h;return d=i(),f=c(),s=a?document.getElementById(a).offsetTop:0,n!==window?f-s<n.clientHeight&&(s=f-n.clientHeight):f-s<window.innerHeight&&(s=f-window.innerHeight),l=a?o(document.getElementById(a).parentNode):0,(null===d||isNaN(d)||"undefined"===d)&&(d=0),g=s-d,g>l&&(p=s-l-d,m=1),l>g&&(p=d+l-s,m=-1),g!==l&&(h=~~(p/4+1)*m,e>1?e-=1:e=0,n!==window?m?n.scrollTop+=h:n.scrollTop-=h:window.scrollBy(0,h),t=window.setTimeout(function(){u(a)},e)),g===l?void r():void 0},s=function(e,t){function r(){[].forEach.call(e,function(e){e.classList.remove(t)})}function a(){for(u=0;u<d.length;u++)if(i()>=d[u]&&i()<d[u+1]&&s!==l[u]){s=l[u],r(),e[u].classList.add(t);var n=new CustomEvent("scrollPosition",{detail:{id:l[u],number:u}});window.dispatchEvent(n)}}var u,s,l=[],d=[];for(t=t?t:"on",u=0;u<e.length;u++)l.push(e[u].dataset.scroll);for(s=l[0],u=0;u<e.length;u++)if(null===document.getElementById(e[u].dataset.scroll))d.push(0);else{var f=n!==window?o(n):0;d.push(o(document.getElementById(e[u].dataset.scroll))-f)}d.push(c()),n.addEventListener("scroll",a),document.body.hasAttributes("unresolved")?document.addEventListener("polymer-ready",a):window.addEventListener("load",a)},l=function(e){function t(){if(a()>=r){var o=document.createEvent("CustomEvent");o.initCustomEvent("scrollPassing",!0,!0,{detail:{element:e}}),window.dispatchEvent(o),n.removeEventListener("scroll",t)}}var r=0,i=n!==window?o(n):0;r=o(e)+e.clientHeight-i,n.addEventListener("scroll",t),document.body.hasAttributes("unresolved")?document.addEventListener("polymer-ready",t):window.addEventListener("load",t)};return{window:function(e){n=e},to:function(e){return u(e)},top:function(){return u(null)},update:function(e,t){return s(e,t)},below:function(e){return l(e)}}}(),e.Bat=t}.call(this),function(){"use strict";var e=this,t=e.Bat||{};t.url=function(){var e=window.location;return{address:function(){return e.href},path:function(){return e.pathname},subdomain:function(){var t=e.hostname.split(".");return t=t.length>2?t[0]:null},domain:function(){var t=e.hostname.split(".");switch(t.length){case 1:t=e.hostname;break;case 2:t=t[0];break;case 3:t=t[1];break;default:t=t[1]}return t},tld:function(){var t=e.hostname;return t.match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))?t.match(new RegExp(/\.[a-z]{2,3}\.[a-z]{2}$/i))[0].replace(new RegExp(/^\./i),""):t.match(new RegExp(/\.[a-z]{2,4}$/i))?t.match(new RegExp(/\.[a-z]{2,4}$/i))[0].replace(new RegExp(/^\./i),""):null},param:function(t,n,r){var o,i=n?n.substring(n.indexOf("?")):e.search,a=i.substring(1).split("&"),r=r?r:!1;for(r&&a.reverse(),o=0;o<a.length;o++){var c=a[o].split("=");if(t===c[0])return c[1]}return null},slugfy:function(e,t){var n=e.toLowerCase();return t=t?t:!1,n=n.replace(new RegExp(/\s/g),"-"),n=n.replace(new RegExp(/[àáâãäå]/g),"a"),n=n.replace(new RegExp(/æ/g),"ae"),n=n.replace(new RegExp(/ç/g),"c"),n=n.replace(new RegExp(/[èéêë]/g),"e"),n=n.replace(new RegExp(/[ìíîï]/g),"i"),n=n.replace(new RegExp(/ñ/g),"n"),n=n.replace(new RegExp(/[òóôõö]/g),"o"),n=n.replace(new RegExp(/œ/g),"oe"),n=n.replace(new RegExp(/[ùúûü]/g),"u"),n=n.replace(new RegExp(/[ýÿ]/g),"y"),t&&(n=n.replace(new RegExp(/\W/g),"")),n},encode:function(e,t){var n;return t=t?t:!0,n=t?encodeURIComponent(e):encodeURI(e)},decode:function(e,t){var n;return t=t?t:!0,n=t?decodeURIComponent(e):decodeURI(e)}}}(),e.Bat=t}.call(this);